import { motion } from "framer-motion";
import Link from "next/link";

export default function ProfileCard({
  name,
  subtitle,
  imageUrl,
  instagramUrl,
  tiktokUrl,
  linkedinUrl,
}) {
  const socialMedia = [
    {
      url: instagramUrl ? `https://www.instagram.com/${instagramUrl}` : null,
      label: "Instagram",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="25"
          height="25"
          viewBox="0 0 25 25"
          fill="none"
        >
          <path
            d="M12.4997 9.24584C10.7078 9.24584 9.24535 10.7082 9.24535 12.5002C9.24535 14.2922 10.7078 15.7546 12.4997 15.7546C14.2917 15.7546 15.7541 14.2922 15.7541 12.5002C15.7541 10.7082 14.2917 9.24584 12.4997 9.24584ZM22.2605 12.5002C22.2605 11.1526 22.2727 9.81713 22.197 8.47192C22.1213 6.90942 21.7649 5.5227 20.6223 4.38012C19.4773 3.2351 18.093 2.8811 16.5305 2.80541C15.1829 2.72973 13.8474 2.74194 12.5022 2.74194C11.1545 2.74194 9.81908 2.72973 8.47387 2.80541C6.91137 2.8811 5.52465 3.23754 4.38207 4.38012C3.23705 5.52514 2.88305 6.90942 2.80737 8.47192C2.73168 9.81957 2.74389 11.155 2.74389 12.5002C2.74389 13.8455 2.73168 15.1833 2.80737 16.5286C2.88305 18.0911 3.2395 19.4778 4.38207 20.6204C5.52709 21.7654 6.91137 22.1194 8.47387 22.1951C9.82153 22.2707 11.157 22.2585 12.5022 22.2585C13.8498 22.2585 15.1853 22.2707 16.5305 22.1951C18.093 22.1194 19.4797 21.7629 20.6223 20.6204C21.7673 19.4753 22.1213 18.0911 22.197 16.5286C22.2751 15.1833 22.2605 13.8479 22.2605 12.5002ZM12.4997 17.5076C9.72875 17.5076 7.49242 15.2712 7.49242 12.5002C7.49242 9.72924 9.72875 7.49291 12.4997 7.49291C15.2707 7.49291 17.5071 9.72924 17.5071 12.5002C17.5071 15.2712 15.2707 17.5076 12.4997 17.5076ZM17.7121 8.45727C17.0652 8.45727 16.5427 7.93481 16.5427 7.28784C16.5427 6.64086 17.0652 6.1184 17.7121 6.1184C18.3591 6.1184 18.8816 6.64086 18.8816 7.28784C18.8818 7.44146 18.8517 7.59362 18.793 7.73559C18.7343 7.87756 18.6481 8.00655 18.5395 8.11518C18.4309 8.22381 18.3019 8.30994 18.1599 8.36864C18.0179 8.42735 17.8658 8.45746 17.7121 8.45727Z"
            fill="#0066FF"
          />
        </svg>
      ),
    },
    {
      url: tiktokUrl ? `https://www.tiktok.com/@${tiktokUrl}` : null,
      label: "TikTok",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="26"
          height="22"
          viewBox="0 0 22 26"
          fill="none"
        >
          <path
            d="M17.4541 4.07333C16.4952 2.94598 15.9667 1.49847 15.9668 0H11.6314V17.9111C11.5986 18.8806 11.2014 19.7991 10.5234 20.4728C9.84541 21.1466 8.93974 21.5228 7.99745 21.5222C6.0051 21.5222 4.34949 19.8467 4.34949 17.7667C4.34949 15.2822 6.67857 13.4189 9.07781 14.1844V9.62C4.23725 8.95555 0 12.8267 0 17.7667C0 22.5767 3.87245 26 7.98342 26C12.389 26 15.9668 22.3167 15.9668 17.7667V8.68111C17.7249 9.98089 19.8356 10.6783 22 10.6744V6.21111C22 6.21111 19.3622 6.34111 17.4541 4.07333Z"
            fill="#0066FF"
          />
        </svg>
      ),
    },
    {
      url: linkedinUrl ? `https://www.linkedin.com/in/${linkedinUrl}` : null,
      label: "LinkedIn",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="25"
          height="25"
          viewBox="0 0 25 25"
          fill="none"
        >
          <path
            d="M19.7917 3.125C20.3442 3.125 20.8741 3.34449 21.2648 3.73519C21.6555 4.12589 21.875 4.6558 21.875 5.20833V19.7917C21.875 20.3442 21.6555 20.8741 21.2648 21.2648C20.8741 21.6555 20.3442 21.875 19.7917 21.875H5.20833C4.6558 21.875 4.12589 21.6555 3.73519 21.2648C3.34449 20.8741 3.125 20.3442 3.125 19.7917V5.20833C3.125 4.6558 3.34449 4.12589 3.73519 3.73519C4.12589 3.34449 4.6558 3.125 5.20833 3.125H19.7917ZM19.2708 19.2708V13.75C19.2708 12.8494 18.9131 11.9856 18.2762 11.3488C17.6394 10.7119 16.7756 10.3542 15.875 10.3542C14.9896 10.3542 13.9583 10.8958 13.4583 11.7083V10.5521H10.5521V19.2708H13.4583V14.1354C13.4583 13.3333 14.1042 12.6771 14.9062 12.6771C15.293 12.6771 15.664 12.8307 15.9374 13.1042C16.2109 13.3777 16.3646 13.7486 16.3646 14.1354V19.2708H19.2708ZM7.16667 8.91667C7.6308 8.91667 8.07591 8.73229 8.4041 8.4041C8.73229 8.07591 8.91667 7.6308 8.91667 7.16667C8.91667 6.19792 8.13542 5.40625 7.16667 5.40625C6.69978 5.40625 6.25201 5.59172 5.92186 5.92186C5.59172 6.25201 5.40625 6.69978 5.40625 7.16667C5.40625 8.13542 6.19792 8.91667 7.16667 8.91667ZM8.61458 19.2708V10.5521H5.72917V19.2708H8.61458Z"
            fill="#0066FF"
          />
        </svg>
      ),
    },
  ];

  return (
    <motion.div
      className="flex gap-6 flex-wrap"
      initial="hidden"
      whileInView="visible"
      viewport={{ once: true }}
      variants={{
        hidden: {},
        visible: {
          transition: {
            staggerChildren: 0.2,
          },
        },
      }}
    >
      <motion.div
        whileInView={{ opacity: 1, scale: 1 }}
        variants={{
          hidden: { opacity: 0, y: 20 },
          visible: { opacity: 1, y: 0 },
        }}
        transition={{ duration: 0.5 }}
      >
        <div className="bg-white rounded-2xl shadow-md p-4 w-full max-w-xs">
          <div className="text-blue-600 font-semibold text-sm">{name}</div>
          <div className="text-xs text-black/70 mb-2">{subtitle}</div>
          <img
            src={imageUrl}
            alt={name}
            width="500"
            height="500"
            className="my-3"
          />
          <div className="flex justify-center gap-4">
            {socialMedia.map((media, idx) =>
              media.url ? (
                <Link key={idx} href={media.url} target="_blank">
                  <button
                    className="bg-blue-100 p-2 cursor-pointer rounded-full hover:bg-blue-200 transition"
                    aria-label={media.label}
                  >
                    {media.icon}
                  </button>
                </Link>
              ) : (
                <button
                  key={idx}
                  className="bg-gray-200 p-2 rounded-full cursor-not-allowed opacity-50"
                  disabled
                  aria-label={`${media.label} not available`}
                >
                  {media.icon}
                </button>
              )
            )}
          </div>
        </div>
      </motion.div>
    </motion.div>
  );
}
